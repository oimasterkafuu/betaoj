<% this.adminPage = 'other'; %>
<%- include('admin_header'); %>
<div class="ui form">
  <h4 class="ui top attached block header"><i class="ui wrench icon"></i>重新计算数据</h4>
  <div class="ui bottom attached segment">
    <form method="post">
      <p><button class="ui blue labeled icon button" name="type" value="reset_count" type="submit"><i class="ui repeat icon"></i>重新计算提交及 AC 数</button></p>
      <p><button class="ui blue labeled icon button" name="type" value="reset_discussion" type="submit"><i class="ui repeat icon"></i>重新计算讨论版回复数和回复时间</button></p>
      <p><button class="ui blue labeled icon button" name="type" value="reset_codelen" type="submit"><i class="ui repeat icon"></i>重新计算提交代码长度</button></p>
    </form>
  </div>
  <h4 class="ui top attached block header"><i class="ui flask icon"></i>迁移使用</h4>
  <div class="ui bottom attached segment">
    <p><a class="ui labeled icon button" href-post="<%= syzoj.utils.makeUrl(['admin', 'restart'], { url: req.query['url'] || req.originalUrl }) %>"><i class="ui repeat icon"></i>重新启动 BetaOJ Web</a></p>
    <p><a href-post="/admin/sortprob" class="ui negative labeled icon button"><i class="ui repeat icon"></i>重新计算题号</a></p>
    <p><a href-post="/admin/exportdb" class="ui blue labeled icon button"><i class="ui database icon"></i>下载数据库</a></p>
  </div>
</div>
<%- include('admin_footer'); %>
